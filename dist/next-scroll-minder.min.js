!function(){var t=t||this,e=t.nx||require("next-js-core2"),s=e.dom&&e.dom.Event||require("next-dom-event"),o=t.document,r=e.DebounceThrouttle||require("next-debounce-throttle"),l=e.UrlStore||require("next-url-store"),i=e.declare("nx.ScrollMinder",{properties:{scrollTop:{get:function(){return this._isNative?o.documentElement.scrollTop||o.body.scrollTop||0:this._scroller.getValues().top}}},statics:{_scroller:null,_manual:!1,_isNative:!1,STORE_KEY:"__NX_SCROLL_REMINDER_CACHE__",init:function(){this._store=new l(this.STORE_KEY)},attach:function(s){var o=this._isNative=s===t,r=o?"attachNative":"attachSimulate";this._scroller=s,e.bindAll(["scrollToRestored","delayStore"],this),this.scrollToRestored(),this.attachEvents(),this._scrollRes=this[r]()},attachEvents:function(){this._loadRes=s.on(window,"load",this.scrollToRestored),this._hashchangeRes=s.on(window,"hashchange",this.scrollToRestored),this._popstateRes=s.on(window,"popstate",this.scrollToRestored),this._pageshowRes=s.on(window,"pageshow",this.scrollToRestored)},attachNative:function(){return s.on(t,"scroll",this.delayStore)},attachSimulate:function(){return this._scroller.on("scroll",this.delayStore)},scrollToRestored:function(t){var s=this._store.session,o=s.scrollTop||0,r=e.isNumber(t)||0;o=o||r,this._manual=0!==o,this._scroller.scrollTo(0,o,!1)},delayStore:r.debounce(function(){this.store(this.scrollTop),this._manual=!1},100,i),store:function(t){this._manual||(this._store.session={scrollTop:t})},destroy:function(){this._scrollRes&&this._scrollRes.destroy(),this._loadRes.destroy(),this._hashchangeRes.destroy(),this._popstateRes.destroy(),this._pageshowRes.destroy()}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();