!function(){var t=t||this,o=t.nx||require("next-js-core2"),e=o.Store||require("next-store"),r=o.dom&&o.dom.Event||require("next-dom-event"),s=t.document,n=o.declare("nx.ScrollMinder",{properties:{url:{get:function(){return t.location.href}},nativeScrollTop:{get:function(){return s.documentElement.scrollTop||s.body.scrollTop||0}}},statics:{_cache:{},_scroller:null,STORE_KEY:"nx_scroll_reminder_cache",attach:function(o){var e=this,s=o===t?"attachNative":"attachSimulate";this._scroller=o,this._loadRes=r.on(window,"load",function(){e.scrollToRestored()}),this[s]()},attachNative:function(){var o=this;this._scrollRes=r.on(t,"scroll",function(){o.store(o.nativeScrollTop)})},attachSimulate:function(){var t=this;this._scroller.on("scroll",function(o){t.store(o.top)})},scrollToRestored:function(t){var r=e.session,s=r[this.STORE_KEY],n=s?s[this.url]:0,l=o.isUndefined(t)?n:t;this._scroller.scrollTo(0,l,!1)},store:function(t){var o={};this._cache[this.url]=t,o[this.STORE_KEY]=this._cache,e.session=o},destroy:function(){this._scrollRes&&this._scrollRes.destroy(),this._loadRes.destroy()}}});"undefined"!=typeof module&&module.exports&&(module.exports=n)}();