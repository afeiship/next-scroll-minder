!function(){var o=o||this,e=o.nx||require("next-js-core2"),t=e.dom&&e.dom.Event||require("next-dom-event"),s=o.document,l=e.DebounceThrouttle||require("next-debounce-throttle"),r=e.UrlStore||require("next-url-store"),n=e.declare("nx.ScrollMinder",{properties:{scrollTop:{get:function(){return this._isWindow?s.documentElement.scrollTop||s.body.scrollTop||0:this._scroller.getValues().top}}},statics:{_scroller:null,_manual:!1,_loaded:!1,_isWindow:!1,init:function(){this._store=new r("__NX_SCROLL_REMINDER_CACHE__")},attach:function(s){this._isWindow=s===o;this._scroller=s,e.binds(this,["globalLoaded","scrollToRestored","delayStore"]),this.globalLoaded(),this._scrollRes=t.on(s,"scroll",this.delayStore)},globalLoaded:function(){this._loaded||(this.scrollToRestored(),this._loaded=!0)},scrollToRestored:function(o){var t=this._store.session,s=t.scrollTop||0,l=e.isNumber(o)||0;s=s||l,this._scroller.scrollTo(0,s,!1)},delayStore:l.debounce(function(){var o=n;o.store(o.scrollTop),o._manual=!1},100),store:function(o){this._manual||(this._store.session={scrollTop:o})},destroy:function(){this._scrollRes&&this._scrollRes.destroy()}}});"undefined"!=typeof module&&module.exports&&(module.exports=n)}();