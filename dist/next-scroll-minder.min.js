!function(){var t=t||this,e=t.nx||require("next-js-core2"),o=e.Store||require("next-store"),r=e.dom&&e.dom.Event||require("next-dom-event"),s=t.document,l=e.declare("nx.ScrollMinder",{properties:{url:{get:function(){return t.location.href}},nativeScrollTop:{get:function(){return s.documentElement.scrollTop||s.body.scrollTop||0}}},statics:{_cache:{},_scroller:null,STORE_KEY:"nx_scroll_reminder_cache",attach:function(e){var o=e===t?"attachNative":"attachSimulate";this._scroller=e,this._loadRes=r.on(window,"load",function(){this.scrollToRestored()}),this[o]()},attachNative:function(){var e=this;this._scrollRes=r.on(t,"scroll",function(){e.store(e.nativeScrollTop)})},attachSimulate:function(){var t=this;this._scroller.on("scroll",function(e){t.store(e.top)})},scrollToRestored:function(t){var r=o.get(this.STORE_KEY),s=e.isUndefined(t)?r[this.url]:t;this._scroller.scrollTo(0,s,!1)},store:function(t){var e={};this._cache[this.url]=t,e[this.STORE_KEY]=this._cache,o.session=e},destroy:function(){this._scrollRes&&this._scrollRes.destroy(),this._loadRes.destroy()}}});"undefined"!=typeof module&&module.exports&&(module.exports=l)}();