!function(){var t=t||this,s=t.nx||require("next-js-core2"),o=s.Store||require("next-store"),e=s.dom&&s.dom.Event||require("next-dom-event"),r=t.document,i=s.declare("nx.ScrollMinder",{properties:{url:{get:function(){return t.location.href}},nativeScrollTop:{get:function(){return r.documentElement.scrollTop||r.body.scrollTop||0}}},statics:{_cache:{},_scroller:null,_manual:!1,STORE_KEY:"nx_scroll_reminder_cache",attach:function(o){var e=o===t?"attachNative":"attachSimulate";this._scroller=o,s.bindAll(["scrollToRestored"],this),this.scrollToRestored(),this.attachEvents(),this._scrollRes=this[e]()},attachEvents:function(){this._loadRes=e.on(window,"load",this.scrollToRestored),this._hashchangeRes=e.on(window,"hashchange",this.scrollToRestored),this._popstateRes=e.on(window,"popstate",this.scrollToRestored),this._pageshowRes=e.on(window,"pageshow",this.scrollToRestored)},attachNative:function(){var s=this;return e.on(t,"scroll",function(){s.store(s.nativeScrollTop)})},attachSimulate:function(){var t=this;this._scroller.on("scroll",function(s){t.store(s.top)})},scrollToRestored:function(t){var e=o.session,r=e[this.STORE_KEY],i=r?r[this.url]:0,l=s.isNumber(i)?i:t;this._manual=!0,this._scroller.scrollTo(0,l,!1),this._manual=!1},store:function(t){if(!this._manual){var s={};this._cache[this.url]=t,s[this.STORE_KEY]=this._cache,o.session=s}},destroy:function(){this._scrollRes&&this._scrollRes.destroy(),this._loadRes.destroy(),this._hashchangeRes.destroy(),this._popstateRes.destroy(),this._pageshowRes.destroy()}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();